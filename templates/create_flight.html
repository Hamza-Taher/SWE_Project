{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Schedule New Flight</h2>
    <form method="POST">
        <div class="form-group">
            <label>Source Airport</label>
            <select name="source_id" required>
                {% for airport in airports %}
                <option value="{{ airport.id }}">{{ airport.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label>Destination Airport</label>
            <select name="dest_id" required>
                {% for airport in airports %}
                <option value="{{ airport.id }}">{{ airport.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label>Pilot</label>
            <select name="pilot_id" required>
                {% for pilot in pilots %}
                <option value="{{ pilot.id }}">{{ pilot.username }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label>Plane</label>
            <select name="plane_id" required>
                {% for plane in planes %}
                <option value="{{ plane.id }}">{{ plane.model }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="crew_members">Assign Crew Members</label>
            <select name="crew_members" id="crew_members" multiple style="height: 100px; width: 100%;">
                {% if crews %}
                    {% for crew in crews %}
                        <option value="{{ crew.id }}">{{ crew.username }}</option>
                    {% endfor %}
                {% else %}
                    <option disabled>No crew members registered</option>
                {% endif %}
            </select>
            <small>Hold CTRL (Windows) or CMD (Mac) to select multiple</small>
        </div>

        <div class="form-group">
            <label>Departure Time</label>
            <input type="time" name="departure_time" required>
        </div>
        
        <div class="form-group">
            <label>Arrival Time</label>
            <input type="time" name="arrival_time" required>
        </div>
        
        <div class="form-group">
            <label>Flight Date</label>
            <input type="date" name="flight_date" required>
        </div>
        
        <div class="form-group">
            <label>Distance (km)</label>
            <input type="number" name="distance_km" required>
        </div>

        <button type="submit" class="btn btn-primary">Create Flight</button>
    </form>
</div>
{% endblock %}